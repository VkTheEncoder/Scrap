<h2>{{ title }}</h2>
<p>Found {{ eps|length }} episodes available.</p>

<!-- Single "Process All Episodes" Button -->
<div style="margin-top: 15px;">
  <button 
    onclick="processAllEpisodes('{{ anime_id }}')" 
    style="
      background:#6c63ff;
      color:white;
      border:none;
      border-radius:8px;
      padding:10px 18px;
      font-size:16px;
      cursor:pointer;
      transition:0.2s ease;">
    ▶️ Process All Episodes
  </button>
</div>

<!-- Optional message -->
<p style="margin-top:10px; font-size:14px; color:#555;">
This will process all episodes automatically, one by one.
</p>

<script>
  function processAllEpisodes(anime_id) {
    console.log("Processing all episodes:", anime_id);
    $.post("/process_all", { anime_id: anime_id }, function (data) {
      $("#stream").html(data).show();
      $("#results, #episodes").hide();
    }).fail(function () {
      alert("Error processing all episodes.");
    });
  }
</script>
